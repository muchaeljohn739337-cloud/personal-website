# ==============================================================================
# Environment Variables Template
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local or .env to git
# ==============================================================================

# ==============================================================================
# CORE CONFIGURATION (REQUIRED)
# ==============================================================================

# Application URLs
# Development
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXTAUTH_URL=http://localhost:3000

# Production - Update with your domain
# NEXT_PUBLIC_APP_URL=https://advanciapayledger.com
# NEXTAUTH_URL=https://advanciapayledger.com

# Node Environment
NODE_ENV=development

# Core Secrets (generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
JWT_SECRET=your_jwt_secret_here_min_32_chars
SESSION_SECRET=your_session_secret_here_min_32_chars
NEXTAUTH_SECRET=your_nextauth_secret_here_min_32_chars

# Database - Supabase Connection Pooling (for application use)
# Use connection pooling for better performance and connection management
DATABASE_URL=postgresql://postgres.xesecqcqzykvmrtxrzqi:[YOUR-PASSWORD]@aws-1-us-east-1.pooler.supabase.com:6543/postgres?pgbouncer=true

# Database - Direct Connection (for migrations and Prisma)
# Use direct connection for migrations and schema operations
DIRECT_URL=postgresql://postgres.xesecqcqzykvmrtxrzqi:[YOUR-PASSWORD]@aws-1-us-east-1.pooler.supabase.com:5432/postgres

# Primary Domain
PRIMARY_DOMAIN=advanciapayledger.com

# ==============================================================================
# PAYMENT PROVIDERS (Optional - configure as needed)
# ==============================================================================

# Stripe
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret_here

# LemonSqueezy
LEMONSQUEEZY_API_KEY=your_lemonsqueezy_api_key_here
LEMONSQUEEZY_STORE_ID=your_lemonsqueezy_store_id_here
LEMONSQUEEZY_WEBHOOK_SECRET=your_lemonsqueezy_webhook_secret_here

# NOWPayments
NOWPAYMENTS_API_KEY=your_nowpayments_api_key_here
NOWPAYMENTS_IPN_SECRET=your_nowpayments_ipn_secret_here

# Alchemy Pay
ALCHEMY_PAY_API_URL=https://openapi.alchemypay.org
ALCHEMY_PAY_APP_ID=your_alchemy_pay_app_id_here
ALCHEMY_PAY_APP_SECRET=your_alchemy_pay_app_secret_here

# ==============================================================================
# OAUTH AUTHENTICATION (Optional)
# ==============================================================================

GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GITHUB_CLIENT_ID=your_github_client_id_here
GITHUB_CLIENT_SECRET=your_github_client_secret_here

# ==============================================================================
# EMAIL CONFIGURATION
# ==============================================================================

# Resend (Recommended)
RESEND_API_KEY=re_your_resend_api_key_here

# OR SMTP (Alternative - for Resend SMTP, use RESEND_API_KEY as password)
# Email Provider: 'api' (Resend REST API), 'smtp' (SMTP), or 'auto' (auto-detect)
EMAIL_PROVIDER=auto
SMTP_HOST=smtp.resend.com
SMTP_PORT=465
SMTP_USER=resend
SMTP_PASSWORD=your_resend_api_key_here
SMTP_FROM=noreply@advanciapayledger.com

# ==============================================================================
# STORAGE (Optional)
# ==============================================================================

# Supabase Storage & Database
# Project URL
NEXT_PUBLIC_SUPABASE_URL=https://xesecqcqzykvmrtxrzqi.supabase.co

# Publishable Key (for client-side operations)
# Get this from: https://supabase.com/dashboard/project/xesecqcqzykvmrtxrzqi/settings/api
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY=your_supabase_publishable_key_here

# Anon Key (alternative, if publishable key not available)
# Get this from: https://supabase.com/dashboard/project/xesecqcqzykvmrtxrzqi/settings/api
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Service Role Key (for server-side admin operations only - NEVER expose to client)
# ⚠️ CRITICAL: This key has FULL database access. Keep it secret!
# Get this from: https://supabase.com/dashboard/project/xesecqcqzykvmrtxrzqi/settings/api
# NEVER commit this key to git or expose it in client-side code
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# Supabase Database Connection (Alternative to DATABASE_URL)
# Use connection pooling for better performance:
# postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-1-us-east-1.pooler.supabase.com:6543/postgres

# AWS S3
AWS_ACCESS_KEY_ID=your_aws_access_key_id_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key_here
AWS_REGION=us-east-1
AWS_S3_BUCKET=your_bucket_name_here

# ==============================================================================
# CACHING & PERFORMANCE
# ==============================================================================

# Redis (Optional - for caching and rate limiting)
REDIS_URL=redis://localhost:6379
# Or for Redis Cloud:
# REDIS_URL=rediss://default:password@host:port

# ==============================================================================
# MONITORING & ANALYTICS
# ==============================================================================

# Sentry
NEXT_PUBLIC_SENTRY_DSN=https://your-key@your-org.ingest.sentry.io/project-id
SENTRY_ORG=your-org-slug
SENTRY_PROJECT=your-project-slug
SENTRY_AUTH_TOKEN=your_sentry_auth_token_here
NEXT_PUBLIC_SENTRY_DEBUG=false
NEXT_PUBLIC_APP_VERSION=1.0.0

# LogRocket
NEXT_PUBLIC_LOGROCKET_APP_ID=your_logrocket_app_id_here

# ==============================================================================
# AI & INTEGRATIONS
# ==============================================================================

# OpenAI
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic (Claude)
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================

ENABLE_2FA=true
ENABLE_EMAIL_VERIFICATION=true

# ==============================================================================
# AUTOMATION & CRON
# ==============================================================================

# Cron Secret (for manual cron execution)
CRON_SECRET=your_cron_secret_here

# ==============================================================================
# TESTING CONFIGURATION (For CI/CD and Local Testing)
# ==============================================================================

# Test Database URL (for CI/CD and local testing)
# Use a separate test database or local PostgreSQL instance
# Format: postgresql://user:password@host:port/database
DATABASE_URL_TEST=postgresql://test:test@localhost:5432/test

# Test User Credentials (for E2E tests)
# These are used by Playwright tests for authentication
TEST_USER_EMAIL=test@example.com
TEST_USER_PASSWORD=test_password_123

# ==============================================================================
# ADMIN CONFIGURATION
# ==============================================================================

# Admin Email (optional - defaults to admin@advanciapayledger.com)
ADMIN_EMAIL=admin@advanciapayledger.com

# Admin Password (required in production)
ADMIN_PASSWORD=your_secure_admin_password_here

# ==============================================================================
# CLOUDFLARE (For Workers Deployment)
# ==============================================================================

# Cloudflare API Token (for Workers deployment)
# Verified token: tHeZfxo3m9Wimsvu5aqecMWRs7psabQbM81-CqgD (Status: Active)
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token_here



# Bot Protection (Optional - Cloudflare Turnstile, reCAPTCHA, etc.)
BOTID_ENABLED=false
BOTID_SECRET_KEY=your_secret_key_here
NEXT_PUBLIC_BOTID_SITE_KEY=your_site_key_here

# Cloudflare Turnstile (Web3)
# Site Key: 0x4AAAAAACFtzJg8GWcBBzYy
# Secret Key: 0x4AAAAAACFtzGNRqWX6670zleDF9Kwj4qo
NEXT_PUBLIC_CLOUDFLARE_TURNSTILE_SITE_KEY=0x4AAAAAACFtzJg8GWcBBzYy
CLOUDFLARE_TURNSTILE_SECRET_KEY=0x4AAAAAACFtzGNRqWX6670zleDF9Kwj4qo

# ==============================================================================
# WEB3AUTH (Social Login + Multi-Wallet Support)
# ==============================================================================

# Web3Auth Client ID
# Project: advancia
# Get from: https://dashboard.web3auth.io/organization/advanciapay/getting-started
NEXT_PUBLIC_WEB3AUTH_CLIENT_ID=BFNxdvITF4K95t3m0W704IllAlQ5xxwsmOJDXp9PNbISrzF2LPve6moMn3Cdukcz5kQv1ftp7SsP7q13mM_qmVI

# Web3Auth Client Secret (for server-side JWT verification - optional)
# ⚠️ NEVER expose this in client-side code
# Get from: https://dashboard.web3auth.io/organization/advanciapay/getting-started
WEB3AUTH_CLIENT_SECRET=your_web3auth_client_secret_here

# Web3Auth Network (mainnet, testnet, cyan, aqua)
# Note: Devnet undergoes periodic key rotations that could lead to lost wallets
WEB3AUTH_NETWORK=mainnet

# Web3Auth Verifier Name (optional)
WEB3AUTH_VERIFIER_NAME=advanciapay

# Web3Auth JWKS Endpoint (for JWT verification - optional)
WEB3AUTH_JWKS_ENDPOINT=https://api-auth.web3auth.io/.well-known/jwks.json

# =============================================================================
# SLACK INTEGRATION
# =============================================================================

# Slack App Credentials
# Get from: https://api.slack.com/apps (create new app or use existing)
# Redirect URI: https://yourdomain.com/api/slack/oauth/callback
SLACK_CLIENT_ID=your_slack_client_id_here
SLACK_CLIENT_SECRET=your_slack_client_secret_here
SLACK_SIGNING_SECRET=your_slack_signing_secret_here

# Slack Bot Token (OAuth Bot Token - obtained after OAuth installation)
SLACK_BOT_TOKEN=your_slack_bot_token_here

# Slack Team/Workspace ID (optional)
SLACK_TEAM_ID=your_slack_team_id_here

# Slack Webhook URL (for incoming webhooks, optional)
SLACK_WEBHOOK_URL=your_slack_webhook_url_here

# Slack App-Level Token (for Socket Mode, optional)
SLACK_APP_TOKEN=your_slack_app_token_here